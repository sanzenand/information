<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>sanzenand</title>
  <meta http-equiv="Content-Security-Policy"
    content="default-src 'self' https:; script-src 'self' 'unsafe-inline' https://telegram.org; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data: https:; connect-src 'self' https://api.github.com;">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --maxw:780px;
      --accent:#ffffff;
      --accent-glow:rgba(255,255,255,0.4);
      --muted:#888888;
      --card-bg: rgba(0,0,0,0.7);
      --glass: rgba(0,0,0,0.6);
      --radius:14px;
      --neon-color: #ffffff;
      --neon-glow: 0 0 5px #ffffff, 0 0 20px #ffffff, 0 0 40px #ffffff;
    }
    *{box-sizing:border-box; margin:0; padding:0;}
    html,body{min-height:100vh;font-family:Inter,system-ui,Arial;background:#000000;color:#cccccc;overflow-x:hidden; scroll-behavior: smooth;}
    body{position:relative; background-size:cover;background-position:center;background-attachment:fixed; padding:20px 15px;}
    .bg-video{position:fixed;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:-2; filter: brightness(0.8); transition: filter 1s ease;}
    body:hover .bg-video { filter: brightness(1); }
    .bg-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg, rgba(0,0,0,0.9), rgba(0,0,0,0.95));z-index:-1; opacity: 0.9; transition: opacity 0.5s ease;}
   
    .container{display:flex;flex-direction:column;align-items:center;min-height:100vh;width:100%;}
    .wrap{width:100%;max-width:var(--maxw);background:linear-gradient(135deg, rgba(0,0,0,0.8), rgba(0,0,0,0.9));border-radius:20px;padding:25px;box-shadow:0 25px 80px rgba(0,0,0,0.8), 0 0 0 1px rgba(255,255,255,0.05);backdrop-filter:blur(12px);animation:fadeInUp 0.8s cubic-bezier(0.23,1,0.32,1) both;position:relative;overflow:visible;opacity:0;transform:scale(0.95);margin:auto;}
    .wrap::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg, transparent, var(--accent-glow), transparent); animation: glowLine 2s infinite alternate;}
    @keyframes glowLine { from { opacity: 0.5; } to { opacity: 1; } }
    @keyframes fadeInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
   
    header{display:flex;gap:15px;align-items:center;margin-bottom:5px; transition: transform 0.5s ease, box-shadow 0.5s ease;}
    header:hover { transform: scale(1.05) rotate(1deg); box-shadow: var(--neon-glow); }
    .avatar{width:65px;height:65px;border-radius:14px;flex-shrink:0;background:linear-gradient(135deg,#333333,#000000);display:flex;align-items:center;justify-content:center;font-weight:700;color:#fff;font-size:24px;overflow:hidden;border:2px solid rgba(255,255,255,0.1);transition:all 0.4s cubic-bezier(0.23,1,0.32,1);position:relative;box-shadow:0 0 20px rgba(0,0,0,0.5);}
    .avatar::after{content:'';position:absolute;inset:-2px;background:linear-gradient(135deg,#333333,#000000);border-radius:18px;z-index:-1;opacity:0;transition:opacity 0.4s}
    .avatar:hover{transform:scale(1.08) rotate(2deg);border-color:transparent;box-shadow:0 10px 30px rgba(255,255,255,0.1)}
    .avatar:hover::after{opacity:1}
    .avatar img,.avatar video{width:100%;height:100%;object-fit:cover;display:block;border-radius:12px; transition: transform 0.5s ease;}
    .avatar:hover img, .avatar:hover video { transform: scale(1.1); }
    .title{flex:1; transition: color 0.3s ease;}
    .title:hover { color: var(--accent); text-shadow: var(--neon-glow); }
    h1{margin:0;font-size:22px;font-weight:700;background:linear-gradient(135deg, #fff, var(--muted));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;letter-spacing:0.5px; animation: neonFlicker 1.5s infinite alternate;}
    @keyframes neonFlicker { 0%, 19%, 21%, 23%, 25%, 54%, 56%, 100% { text-shadow: var(--neon-glow); } 20%, 24%, 55% { text-shadow: none; } }
    .subtitle{color:var(--muted);font-size:13px;margin-top:4px;font-weight:300; transition: color 0.3s ease;}
    .subtitle:hover { color: var(--neon-color); }
   
    .bio-card{margin-top:15px;padding:18px;border-radius:14px;background:var(--card-bg);border:1px solid rgba(255,255,255,0.06);animation:slideUp 0.6s cubic-bezier(0.23,1,0.32,1) 0.2s both;position:relative;opacity:0;transform:translateY(20px); overflow: hidden;}
    .bio-card::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg, rgba(255,255,255,0.03), transparent);border-radius:14px;opacity:0;transition:opacity 0.4s}
    .bio-card:hover::before{opacity:1}
    .bio-card::after { content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 60%); opacity: 0; transition: opacity 0.5s ease; }
    .bio-card:hover::after { opacity: 1; animation: rotateGlow 5s linear infinite; }
    @keyframes rotateGlow { to { transform: rotate(360deg); } }
    @keyframes slideUp{from{opacity:0;transform:translateY(40px)}to{opacity:1;transform:translateY(0)}}
   
    .typing{font-family:'Inter',system-ui,Arial;color:#f7fbff;font-weight:600;font-size:18px;min-height:28px;white-space:pre-wrap;overflow:hidden;transition:color 0.3s ease; text-shadow: 0 0 2px #fff;}
    .cursor{display:inline-block;width:10px;height:22px;background:var(--accent);margin-left:6px;vertical-align:middle;animation:blink 1s step-start infinite;border-radius:3px}
    @keyframes blink{50%{opacity:0}}
   
    .cols{display:grid;grid-template-columns:1fr 280px;gap:20px;margin-top:12px; transition: transform 0.5s ease;}
    .cols:hover { transform: translateY(-5px) scale(1.01); }
    @media(max-width:768px){.cols{grid-template-columns:1fr;gap:20px}.avatar{width:60px;height:60px;font-size:22px}h1{font-size:20px}.wrap{padding:20px}.bio-card{padding:15px}}
    @media(max-width:480px){header{flex-direction:column;text-align:center;gap:10px}.avatar{width:80px;height:80px;font-size:28px}h1{font-size:24px}.subtitle{font-size:14px}.wrap{padding:15px;}h1{font-size:18px;}.subtitle{font-size:12px;}.typing{font-size:16px;}.avatar{width:60px;height:60px;}.bio-card{padding:12px;}.cols{gap:15px;}}
   
    .side{background:var(--glass);padding:16px;border-radius:12px;border:1px solid rgba(255,255,255,0.04);position:relative;overflow:hidden;opacity:0;transform:translateX(100px);animation:slideInRight 0.8s cubic-bezier(0.23,1,0.32,1) 0.6s forwards}
    @keyframes slideInRight{to{opacity:1;transform:translateX(0)}}
    .side::before{content:'';position:absolute;top:0;left:0;width:3px;height:100%;background:linear-gradient(180deg, var(--accent), #666666);transform:scaleY(0);transition:transform 0.4s cubic-bezier(0.23,1,0.32,1)}
    .side:hover::before{transform:scaleY(1)}
   
    .links a{display:flex;align-items:center;color:#fff;text-decoration:none;padding:10px 12px;border-radius:10px;margin-bottom:10px;background:linear-gradient(135deg, rgba(255,255,255,0.04), rgba(0,0,0,0.3));border:1px solid rgba(255,255,255,0.06);transition:all 0.3s cubic-bezier(0.23,1,0.32,1);position:relative;overflow:hidden;opacity:0;transform:translateX(50px);animation:slideInLink 0.6s cubic-bezier(0.23,1,0.32,1) forwards;transition:transform 0.2s ease, box-shadow 0.2s ease;}
    .links a:nth-child(1){animation-delay:0.8s}
    .links a:nth-child(2){animation-delay:0.9s}
    .links a:nth-child(3){animation-delay:1.0s}
    .links a:nth-child(4){animation-delay:1.1s}
    .links a:nth-child(5){animation-delay:1.2s}
    @keyframes slideInLink{to{opacity:1;transform:translateX(0)}}
    .links a::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);transition:left 0.6s}
    .links a:hover{transform:translateX(8px) translateY(-2px);border-color:rgba(255,255,255,0.3);background:linear-gradient(135deg, rgba(255,255,255,0.1), rgba(0,0,0,0.3));box-shadow:0 8px 20px rgba(0,0,0,0.2);transform:scale(1.05) rotate(3deg);box-shadow: var(--neon-glow);}
    .links a:hover::before{left:100%}
   
    .muted{color:var(--muted);font-size:14px;line-height:1.5; transition: opacity 0.3s ease, text-shadow 0.3s ease;}
    .muted:hover { opacity: 0.8; text-shadow: var(--neon-glow); }
    .guarantee-box{background:linear-gradient(135deg, rgba(255,0,0,0.2), rgba(255,77,77,0.25));border:1px solid rgba(255,0,0,0.5);border-radius:10px;padding:14px;margin-top:14px;animation:pulseRed 2s infinite}
    @keyframes pulseRed{0%{box-shadow:0 0 0 0 rgba(255,0,0,0.5)}70%{box-shadow:0 0 0 10px rgba(255,0,0,0)}100%{box-shadow:0 0 0 0 rgba(255,0,0,0)}}
    .warning-text{color:#ff4444;font-weight:700;font-size:15px;text-shadow:0 0 10px rgba(255,0,0,0.5);text-align:center;display:block; animation: shake 0.5s infinite alternate, colorPulse 1s infinite alternate;}
    @keyframes shake { from { transform: translateX(-2px); } to { transform: translateX(2px); } }
    @keyframes colorPulse { from { color: #ff4444; } to { color: #ff0000; } }
    @media(max-width:480px){.warning-text{font-size:14px}}
   
    footer{margin-top:25px;text-align:center;color:var(--muted);font-size:12px;animation:fadeIn 0.8s ease-out 0.6s both;opacity:0.7;padding-top:15px;border-top:1px solid rgba(255,255,255,0.1); transition: color 0.3s ease, transform 0.3s ease;}
    footer:hover { color: var(--accent); transform: scale(1.1); }
   
    .pulse{animation:pulse 2s infinite}
    @keyframes pulse{0%{box-shadow:0 0 0 0 rgba(255,255,255,0.2)}70%{box-shadow:0 0 0 10px rgba(255,255,255,0)}100%{box-shadow:0 0 0 0 rgba(255,255,255,0)}}
    @keyframes glow{from{box-shadow:0 0 10px rgba(255,255,255,0.2);}to{box-shadow:0 0 30px rgba(255,255,255,0.3);}}
   
    #audioToggle {
      position: fixed;
      right: 16px;
      bottom: 16px;
      padding: 8px 12px;
      border-radius: 8px;
      background: #333;
      color: #fff;
      border: none;
      cursor: pointer;
      z-index: 9999;
      display: none;
      box-shadow:0 6px 20px rgba(0,0,0,0.5);
      transition: all 0.3s ease;
    }
    #audioToggle:hover {
      background: #444;
      transform: scale(1.2) rotate(360deg);
      box-shadow: var(--neon-glow);
    }
   
    #particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -3;
      pointer-events: none;
      animation: particleGlow 5s infinite alternate;
    }
    @keyframes particleGlow { from { opacity: 0.7; } to { opacity: 1; } }
   
    .telegram-widget {
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.1);
      min-height: 300px;
      transition: transform 0.3s ease, box-shadow 0.3s ease, border-color 0.3s ease;
    }
    .telegram-widget:hover {
      transform: scale(1.05) rotate(1deg);
      box-shadow: 0 0 20px rgba(255,255,255,0.2);
      border-color: var(--neon-color);
    }
    .telegram-widget iframe {
      width: 100%;
      border: none;
      min-height: 300px;
    }
   
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: rgba(0,0,0,0.1);
    }
    ::-webkit-scrollbar-thumb {
      background: rgba(255,255,255,0.2);
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: var(--neon-color);
    }
   
    .content-section {
      margin-bottom: 20px;
      opacity: 0;
      transform: translateY(20px) rotate(-5deg);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .content-section.visible {
      opacity: 1;
      transform: translateY(0) rotate(0);
    }
    .content-section:last-child {
      margin-bottom: 0;
    }
    .nav-links {
      display: flex;
      gap: 15px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }
    .nav-link {
      color: var(--muted);
      text-decoration: none;
      padding: 8px 16px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.1);
      transition: all 0.3s ease;
      font-size: 14px;
    }
    .nav-link:hover, .nav-link.active {
      color: var(--accent);
      border-color: var(--accent-glow);
      background: rgba(255,255,255,0.05);
      transform: scale(1.1) translateY(-3px);
      box-shadow: var(--neon-glow);
    }
    .posts-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }
    .post-card {
      background: var(--card-bg);
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 12px;
      padding: 20px;
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      opacity: 0;
      transform: translateY(50px) scale(0.9);
    }
    .post-card.visible {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
    .post-card:hover {
      transform: translateY(-10px) rotate(2deg);
      border-color: rgba(255,255,255,0.1);
      box-shadow: 0 8px 25px rgba(0,0,0,0.3), var(--neon-glow);
    }
    .post-title {
      color: var(--accent);
      font-size: 18px;
      margin-bottom: 10px;
      font-weight: 600;
      transition: color 0.3s ease, text-shadow 0.3s ease;
    }
    .post-title:hover {
      color: var(--neon-color);
      text-shadow: var(--neon-glow);
    }
    .post-date {
      color: var(--muted);
      font-size: 12px;
      margin-bottom: 12px;
      display: block;
      transition: color 0.3s ease;
    }
    .post-date:hover {
      color: var(--accent);
    }
    .post-content {
      color: #cccccc;
      line-height: 1.6;
      flex-grow: 1;
      transition: color 0.3s ease;
    }
    .post-content:hover {
      color: #ffffff;
    }
    .post-tags {
      display: flex;
      gap: 8px;
      margin-top: 15px;
      flex-wrap: wrap;
    }
    .post-tag {
      background: rgba(255,255,255,0.1);
      color: var(--muted);
      padding: 4px 8px;
      border-radius: 6px;
      font-size: 11px;
      transition: background 0.3s ease, transform 0.3s ease;
    }
    .post-tag:hover {
      background: rgba(255,255,255,0.3);
      transform: scale(1.1);
    }
    .page {
      display: none;
      opacity: 0;
      transition: opacity 0.5s ease, transform 0.5s ease;
    }
    .page.active {
      display: block;
      opacity: 1;
      transform: scale(1);
    }
    .reviews-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(3, 1fr);
      gap: 15px;
      margin-top: 20px;
    }
    @media (max-width: 768px) {
      .reviews-grid {
        grid-template-columns: repeat(2, 1fr);
        grid-template-rows: repeat(4, 1fr);
      }
    }
    @media (max-width: 480px) {
      .reviews-grid {
        grid-template-columns: 1fr;
        grid-template-rows: repeat(8, 1fr);
      }
      .telegram-widget {
        min-height: 250px;
      }
      .telegram-widget iframe {
        min-height: 250px;
      }
    }
  </style>
</head>
<body>
  <canvas id="particles"></canvas>
  <div class="bg-overlay"></div>
 
  <div class="container">
    <div class="wrap">
      <div class="nav-links">
        <a href="#main" class="nav-link active" data-page="main">Главная</a>
        <a href="#posts" class="nav-link" data-page="posts">Посты</a>
        <a href="#reviews" class="nav-link" data-page="reviews">Отзывы</a>
      </div>
     
      <div id="main-page" class="page active">
        <header>
          <div class="avatar pulse" id="avatar">
            <span>S</span>
          </div>
          <div class="title">
            <h1>sanzenand</h1>
            <div class="subtitle">@sanzenand — продавец и разработчик ботов</div>
          </div>
        </header>
       
        <div class="bio-card">
          <div class="typing" id="typingArea"></div><span class="cursor" id="cursor"></span>
         
          <div class="cols">
            <div>
              <div class="content-section">
                <strong style="display:block;margin-bottom:8px;font-size:15px">О себе</strong>
                <p class="muted">Я — @sanzenand. Предоставляю услуги: создание Telegram и Discord ботов, продажа аккаунтов в играх и другие цифровые сервисы.</p>
              </div>
             
              <div class="content-section">
                <strong style="display:block;margin-bottom:8px;font-size:15px">Гарантии</strong>
                <p class="muted">Быстрые и честные сделки. Работаю с проверенными методами, не участвую в скамах и не создаю мошеннических ботов.</p>
                <div class="guarantee-box">
                  <span class="warning-text">⚠️ НЕ УЧАСТВУЮ В СКАМЕ И НЕ СОЗДАЮ МОШЕННИЧЕСКИХ БОТОВ</span>
                </div>
              </div>
            </div>
           
            <aside class="side">
              <div>
                <strong style="display:block;margin-bottom:12px;font-size:15px">Контакты</strong>
                <div class="links">
                  <a href="https://t.me/Sanzenand" target="_blank">Telegram — @Sanzenand</a>
                  <a href="https://t.me/mainsanzenand" target="_blank">БИО канал — @mainsanzenand</a>
                  <a href="https://t.me/sanzenand_fp" target="_blank">Отзывы канал — @sanzenand_fp</a>
                  <a href="https://t.me/newssanz" target="_blank">Игровой канал — @newssanz</a>
                  <a href="https://funpay.com/users/11006828/" target="_blank">FunPay — Sanzenand</a>
                </div>
              </div>
            </aside>
          </div>
        </div>
      </div>
     
      <div id="posts-page" class="page">
        <header>
          <div class="avatar pulse" id="posts-avatar">
            <span>S</span>
          </div>
          <div class="title">
            <h1>Посты sanzenand</h1>
            <div class="subtitle">Обновления, новости и мысли</div>
          </div>
        </header>
       
        <div class="bio-card">
          <div class="posts-grid" id="posts-container"></div>
        </div>
      </div>
      <div id="reviews-page" class="page">
        <header>
          <div class="avatar pulse" id="reviews-avatar">
            <span>S</span>
          </div>
          <div class="title">
            <h1>Отзывы клиентов</h1>
            <div class="subtitle">Реальные отзывы из Telegram канала</div>
          </div>
        </header>
       
        <div class="bio-card">
          <div class="content-section">
            <strong style="display:block;margin-bottom:8px;font-size:15px">Отзывы покупателей</strong>
            <p class="muted">Здесь собраны реальные отзывы клиентов с моего Telegram канала отзывов. Все отзывы оставлены после успешных сделок.</p>
          </div>
         
          <div class="reviews-grid" id="reviews-container"></div>
        </div>
      </div>
     
      <footer>© 2025 sanzenand</footer>
    </div>
  </div>
 
  <audio id="bgAudio" loop preload="auto"></audio>
  <button id="audioToggle">Play</button>
 
  <script>
    const LOCAL_BG_VIDEO = 'background.mp4';
    const LOCAL_BG_IMAGE = 'background.jpg';
    const LOCAL_AVATAR_VIDEO = 'avatar.mp4';
    const LOCAL_AVATAR_IMAGE = 'avatar.jpg';
    const LOCAL_MUSIC = 'Dasing.mp3';
   
    const lines = [
      "Я — @sanzenand, известен на платформе FunPay как продавец.",
      "На данный момент имею рейтинг 5/5.",
      "Гарантирую вам: Быстрые и Честные сделки.",
      "Отвечаю и выполняю заказы в кратчайшие сроки.",
      "Попрошу вас подумать прежде чем: Спамить.",
      "Просить создать скам чего то, не имею отношения к скам-ботам⚠️."
    ];
    const reviewPosts = [4, 5, 6, 10, 11, 12, 13, 14];
    const posts = [
      {
        id: 1,
        title: "Новые услуги по созданию ботов",
        date: "2025-10-23",
        content: "Расширил спектр услуг по созданию Telegram и Discord ботов. Теперь доступны более сложные интеграции с внешними API и системами.",
        tags: ["услуги", "боты", "обновление"]
      },
      {
        id: 2,
        title: "Обновление гарантийной политики",
        date: "2025-10-23",
        content: "Улучшил условия гарантии для всех услуг. Теперь предоставляю расширенную поддержку в течение 30 дней после завершения работы.",
        tags: ["гарантия", "обновление"]
      },
      {
        id: 3,
        title: "Новые отзывы на FunPay",
        date: "2025-10-23",
        content: "Получил несколько положительных отзывов за последние сделки. Рейтинг сохраняется на уровне 5/5. Благодарю всех за доверие!",
        tags: ["отзывы", "funpay"]
      },
      {
        id: 4,
        title: "Временные скидки на услуги",
        date: "2026-01-01",
        content: "В честь нового года предлагаю скидку 15% на все услуги до конца января. Успейте обратиться!",
        tags: ["скидки", "акция"]
      },
      {
        id: 5,
        title: "Улучшенная поддержка клиентов",
        date: "2025-10-23",
        content: "Теперь доступна круглосуточная поддержка для всех клиентов. Отвечаю на вопросы в течение 15 минут.",
        tags: ["поддержка", "клиенты"]
      }
    ];
    function sleep(ms){ return new Promise(r=>setTimeout(r,ms)); }
   
    async function urlExists(path){
      try{
        const res = await fetch(path, { method: 'HEAD' });
        return res.ok;
      }catch(e){
        return false;
      }
    }
   
    async function applyBackground(){
      const body = document.body;
      if(await urlExists(LOCAL_BG_VIDEO)){
        const vid = document.createElement('video');
        vid.src = LOCAL_BG_VIDEO;
        vid.autoplay = true;
        vid.loop = true;
        vid.muted = true;
        vid.playsInline = true;
        vid.className = 'bg-video';
        document.body.prepend(vid);
        return;
      }
      if(await urlExists(LOCAL_BG_IMAGE)){
        body.style.backgroundImage = `url('${LOCAL_BG_IMAGE}')`;
        return;
      }
    }
   
    async function applyAvatar(){
      const av = document.getElementById('avatar');
      const postsAv = document.getElementById('posts-avatar');
      const reviewsAv = document.getElementById('reviews-avatar');
      av.innerHTML = '';
      postsAv.innerHTML = '';
      reviewsAv.innerHTML = '';
     
      if(await urlExists(LOCAL_AVATAR_VIDEO)){
        const v = document.createElement('video');
        v.src = LOCAL_AVATAR_VIDEO;
        v.autoplay = true;
        v.loop = true;
        v.muted = true;
        v.playsInline = true;
        v.style.width = '100%';
        v.style.height = '100%';
        v.style.objectFit = 'cover';
        av.appendChild(v.cloneNode(true));
        postsAv.appendChild(v.cloneNode(true));
        reviewsAv.appendChild(v);
        return;
      }
      if(await urlExists(LOCAL_AVATAR_IMAGE)){
        const img = document.createElement('img');
        img.src = LOCAL_AVATAR_IMAGE;
        img.alt = 'avatar';
        img.style.width = '100%';
        img.style.height = '100%';
        img.style.objectFit = 'cover';
        av.appendChild(img.cloneNode(true));
        postsAv.appendChild(img.cloneNode(true));
        reviewsAv.appendChild(img);
        return;
      }
      av.innerHTML = '<span>S</span>';
      postsAv.innerHTML = '<span>S</span>';
      reviewsAv.innerHTML = '<span>S</span>';
    }
   
    async function applyMusic(){
      const audio = document.getElementById('bgAudio');
      const btn = document.getElementById('audioToggle');
      if(await urlExists(LOCAL_MUSIC)){
        audio.src = LOCAL_MUSIC;
        audio.volume = 0.25;
        audio.loop = true;
        btn.style.display = 'block';
       
        btn.onclick = () => {
          if(audio.paused){
            audio.play();
            btn.textContent = 'Pause';
          } else {
            audio.pause();
            btn.textContent = 'Play';
          }
        };
       
        btn.textContent = 'Play Music';
        return;
      }
      btn.style.display = 'none';
    }
   
    const typingArea = document.getElementById('typingArea');
    async function typeText(text, speed=30){
      typingArea.textContent = '';
      for(let i=0;i<text.length;i++){
        typingArea.textContent += text[i];
        await sleep(speed + Math.random()*20);
      }
    }
   
    async function deleteText(speed=20){
      let txt = typingArea.textContent;
      while(txt.length){
        txt = txt.slice(0,-1);
        typingArea.textContent = txt;
        await sleep(speed);
      }
    }
   
    async function typingLoop(){
      let i = 0;
      while(true){
        const line = lines[i % lines.length];
        await typeText(line);
        await sleep(1000 + Math.random()*600);
        await deleteText();
        await sleep(300);
        i++;
      }
    }
   
    function initParticles() {
      const canvas = document.getElementById('particles');
      const ctx = canvas.getContext('2d');
     
      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }
     
      resizeCanvas();
      const particles = [];
      const colors = ['#ffffff', '#ffffff', '#ffffff', '#ffffff'];
     
      for (let i = 0; i < 300; i++) {  // More particles
        particles.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height,
          radius: Math.random() * 4 + 1,
          color: colors[Math.floor(Math.random() * colors.length)],
          speedX: Math.random() * 4 - 2,
          speedY: Math.random() * 4 - 2,
          alpha: Math.random() * 0.5 + 0.3
        });
      }
     
      function animate() {
        requestAnimationFrame(animate);
        ctx.clearRect(0, 0, canvas.width, canvas.height);
       
        particles.forEach(p => {
          p.x += p.speedX;
          p.y += p.speedY;
         
          if (p.x > canvas.width) p.x = 0;
          if (p.x < 0) p.x = canvas.width;
          if (p.y > canvas.height) p.y = 0;
          if (p.y < 0) p.y = canvas.height;
         
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
          ctx.fillStyle = p.color;
          ctx.globalAlpha = p.alpha;
          ctx.fill();
          ctx.globalAlpha = 1;
        });
       
        // Connect particles
        for (let i = 0; i < particles.length; i++) {
          for (let j = i + 1; j < particles.length; j++) {
            const dx = particles[i].x - particles[j].x;
            const dy = particles[i].y - particles[j].y;
            const dist = Math.sqrt(dx * dx + dy * dy);
            if (dist < 100) {
              ctx.beginPath();
              ctx.moveTo(particles[i].x, particles[i].y);
              ctx.lineTo(particles[j].x, particles[j].y);
              ctx.strokeStyle = 'rgba(255,255,255,' + (1 - dist / 100) * 0.5 + ')';
              ctx.lineWidth = 0.5;
              ctx.stroke();
            }
          }
        }
      }
     
      animate();
      window.addEventListener('resize', resizeCanvas);
    }
    function loadReviews() {
      const container = document.getElementById('reviews-container');
      container.innerHTML = '';
      reviewPosts.forEach((postId, index) => {
        const widget = document.createElement('div');
        widget.className = 'telegram-widget';
        widget.style.opacity = '0';
        widget.style.transform = 'translateY(50px) rotate(-10deg)';
        const script = document.createElement('script');
        script.async = true;
        script.src = 'https://telegram.org/js/telegram-widget.js?22';
        script.setAttribute('data-telegram-post', `sanzenand_fp/${postId}`);
        script.setAttribute('data-width', '100%');
        script.setAttribute('data-dark', '1');
        script.setAttribute('data-color', 'FFFFFF');
        script.setAttribute('data-userpic', 'false');
        widget.appendChild(script);
        container.appendChild(widget);
        setTimeout(() => {
          widget.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
          widget.style.opacity = '1';
          widget.style.transform = 'translateY(0) rotate(0)';
        }, index * 150);
      });
    }
    function loadPosts() {
      const postsContainer = document.getElementById('posts-container');
      postsContainer.innerHTML = '';
      posts.forEach((post, index) => {
        const postElement = document.createElement('div');
        postElement.className = 'post-card';
        postElement.innerHTML = `
          <div class="post-title">${post.title}</div>
          <span class="post-date">${formatDate(post.date)}</span>
          <div class="post-content">${post.content}</div>
          <div class="post-tags">
            ${post.tags.map(tag => `<span class="post-tag">#${tag}</span>`).join('')}
          </div>
        `;
        postsContainer.appendChild(postElement);
        setTimeout(() => {
          postElement.classList.add('visible');
        }, index * 150);
      });
    }
    function formatDate(dateString) {
      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      return new Date(dateString).toLocaleDateString('ru-RU', options);
    }
    function initNavigation() {
      const navLinks = document.querySelectorAll('.nav-link');
      const hash = window.location.hash.substring(1) || 'main';
      showPage(hash);
      navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const page = link.getAttribute('data-page');
          window.location.hash = page;
          showPage(page);
        });
      });
      window.addEventListener('hashchange', () => {
        const hash = window.location.hash.substring(1) || 'main';
        showPage(hash);
      });
    }
    function showPage(pageName) {
      document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
        page.style.transform = 'scale(0.95)';
      });
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
      });
      const targetPage = document.getElementById(`${pageName}-page`);
      const targetLink = document.querySelector(`[data-page="${pageName}"]`);
      if (targetPage && targetLink) {
        targetPage.classList.add('active');
        targetPage.style.transform = 'scale(1)';
      }
      if (pageName === 'posts') {
        loadPosts();
      } else if (pageName === 'reviews') {
        loadReviews();
      } else if (pageName === 'main') {
        const sections = document.querySelectorAll('#main-page .content-section');
        sections.forEach((section, index) => {
          setTimeout(() => {
            section.classList.add('visible');
          }, index * 200);
        });
      }
    }
    // Add mouse trail effect
    function initMouseTrail() {
      const trail = [];
      document.addEventListener('mousemove', (e) => {
        const dot = document.createElement('div');
        dot.style.position = 'absolute';
        dot.style.width = '10px';
        dot.style.height = '10px';
        dot.style.background = 'rgba(255, 255, 255, 0.5)';
        dot.style.borderRadius = '50%';
        dot.style.pointerEvents = 'none';
        dot.style.left = `${e.pageX - 5}px`;
        dot.style.top = `${e.pageY - 5}px`;
        dot.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
        document.body.appendChild(dot);
        trail.push(dot);
        setTimeout(() => {
          dot.style.opacity = '0';
          dot.style.transform = 'scale(0)';
          setTimeout(() => {
            dot.remove();
            trail.shift();
          }, 500);
        }, 100);
      });
    }
   
    (async function init(){
      try {
        await applyBackground();
        await applyAvatar();
        await applyMusic();
        typingLoop().catch(console.error);
        initParticles();
        initNavigation();
        initMouseTrail();
       
        document.querySelector('.wrap').style.opacity = '1';
        document.querySelector('.wrap').style.transform = 'scale(1)';
      } catch (error) {
        console.error('Initialization error:', error);
      }
    })();
  </script>
</body>
</html>
